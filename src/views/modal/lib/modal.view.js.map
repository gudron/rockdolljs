{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 89dbc1cc58a3e3fd0b66","webpack:///external \"backbone.marionette\"","webpack:///./src/modalLayoutView.js","webpack:///./version.json","webpack:///./src/modalContentView.js","webpack:///external \"remodal\""],"names":["ModalLayoutView","LayoutView","extend","version","className","events","_modalNumber","template","_appLayoutWrapper","_remodalWrapperClassName","onRender","initialize","App","mainLayoutView","$el","find","onBeforeAddChild","childView","hasClass","addClass","onRemoveChild","removeClass","removeChildView","view","triggerMethod","supportsDestroyLifecycle","triggerMethodOn","regionName","parentRegionName","regionClassName","parentRegionClassName","destroy","remove","removeRegion","stopListening","addChild","child","ChildView","childViewOptions","getOption","buildChildView","listenTo","_addChildView","_parent","$container","$","append","addRegion","getRegion","show","ChildViewClass","contentView","ModalContentView","_remodal","triggers","event","preventDefault","onBeforeShow","region","options","onAttach","that","remodal","$modal","on","_onRemodalClosed","trigger","_onRemodalOpened","open","onBeforeDestroy","_","contains","getState","close","onModalCloseClick"],"mappings":"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","file":"modal.view.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"backbone.marionette\"), require(\"remodal\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"backbone.marionette\", \"remodal\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"backbone.marionette\"), require(\"remodal\")) : factory(root[\"backbone.marionette\"], root[\"remodal\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_4__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 89dbc1cc58a3e3fd0b66","module.exports = require(\"backbone.marionette\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"backbone.marionette\"\n// module id = 0\n// module chunks = 0","// ModalLayoutView\n// ---------\n\nimport {version} from '../version.json';\n\nimport Marionette from 'backbone.marionette';\n\nimport ModalContentView from './modalContentView';\n\nconst ModalLayoutView = Marionette.LayoutView.extend({\n    version: version,\n    className: 'modal__wrapper',\n    events: {},\n    _modalNumber: 0,\n    template: false,\n    _appLayoutWrapper: false,\n    _remodalWrapperClassName: 'remodal-bg remodal-is-opened',\n    onRender: function () {\n\n    },\n    initialize: function () {\n        this._appLayoutWrapper = App.mainLayoutView.$el.find('.p-wrapper');\n    },\n    onBeforeAddChild: function (childView) {\n        if( !this._appLayoutWrapper.hasClass(this._remodalWrapperClassName)) {\n            this._appLayoutWrapper.addClass(this._remodalWrapperClassName);\n        }\n    },\n    onRemoveChild: function () {\n        if( !this._appLayoutWrapper.hasClass(this._remodalWrapperClassName)) {\n            this._appLayoutWrapper.removeClass(this._remodalWrapperClassName);\n        }\n    },\n    removeChildView: function (view) {\n        if (!view) { return view; }\n\n        this.triggerMethod('before:remove:child', view);\n\n        if (!view.supportsDestroyLifecycle) {\n            Marionette.triggerMethodOn(view, 'before:destroy', view);\n        }\n\n        let regionName = view.parentRegionName;\n        let regionClassName = view.parentRegionClassName;\n        // call 'destroy' or 'remove', depending on which is found\n        if (view.destroy) {\n            view.destroy();\n        } else {\n            view.remove();\n        }\n\n        this.removeRegion(regionName);\n        this.$el.find('.' + regionClassName).remove();\n\n        this._modalNumber--;\n\n        if (!view.supportsDestroyLifecycle) {\n            Marionette.triggerMethodOn(view, 'destroy', view);\n        }\n\n        this.stopListening(view);\n\n        this.triggerMethod('remove:child', view);\n\n        return view;\n    },\n    addChild: function (child, ChildView) {\n        var childViewOptions = this.getOption('childViewOptions');\n\n        var view = this.buildChildView(child, ChildView, childViewOptions);\n\n        // increment indices of views after this one\n        this._modalNumber++;\n\n        this.triggerMethod('before:add:child', view);\n\n        this.listenTo(view, 'modal:closed', this.removeChildView );\n\n        this._addChildView(view);\n        this.triggerMethod('add:child', view);\n\n        view._parent = this;\n\n        return view;\n    },\n    _addChildView: function (view) {\n\n        let regionName = 'modal-window-' + this._modalNumber;\n        let className = 'remodal-window-' + this._modalNumber;\n\n        let $container = $('<div>')\n            .addClass(className);\n\n        this.$el.append($container);\n        this.addRegion(regionName, '.' + className);\n        this.getRegion(regionName).show(view, {\n            regionName: regionName,\n            regionClassName: className\n        });\n\n    },\n    buildChildView: function(child, ChildViewClass, childViewOptions) {\n        var childView = new ChildViewClass(childViewOptions);\n        //Marionette.MonitorDOMRefresh(childView);\n        return childView;\n    },\n});\n\nModalLayoutView.contentView = ModalContentView;\n\nexport default ModalLayoutView;\n\n\n// WEBPACK FOOTER //\n// ./src/modalLayoutView.js","module.exports = {\"version\":\"0.0.6\",\"buildDate\":\"2017-12-19\"}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./version.json\n// module id = 2\n// module chunks = 0","// ModalItemView\n// ---------\n\nimport Marionette from 'backbone.marionette';\nimport Remodal from 'remodal';\n\nconst ModalContentView = Marionette.LayoutView.extend({\n    _remodal: false,\n    parentRegionName: false,\n    parentRegionClassName: false,\n    triggers: {\n        'click .btn.cancel-btn': {\n            event: 'modal:close:click',\n            preventDefault: true\n        }\n    },\n    onBeforeShow: function (view, region, options) {\n        this.parentRegionName = options.regionName;\n        this.parentRegionClassName = options.regionClassName;\n    },\n    onAttach: function () {\n        let that = this;\n        this._remodal = $(this.$el).remodal();\n\n        this._remodal.$modal.on('closed', function (event) {\n            that._onRemodalClosed(event);\n            that.trigger('modal:closed', that, event);\n        });\n\n        this._remodal.$modal.on('opened', function (event) {\n            that._onRemodalOpened(event);\n            that.trigger('modal:opened', that, event);\n        });\n\n        this._remodal.open();\n    },\n    onBeforeDestroy: function () {\n        if(_.contains(['opened', 'opening'],  this._remodal.getState() )) {\n            this._remodal.close();\n        }\n\n        this._remodal.destroy();\n        this._remodal = false;\n    },\n    _onRemodalClosed: function (event) {\n    },\n    _onRemodalOpened: function (event) {\n    },\n    onModalCloseClick: function (event) {\n        this._remodal.close();\n    }\n});\n\nexport default ModalContentView;\n\n\n// WEBPACK FOOTER //\n// ./src/modalContentView.js","module.exports = require(\"remodal\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"remodal\"\n// module id = 4\n// module chunks = 0"],"sourceRoot":""}